# Initial hex array
buf = [0xf3, 0x79, 0xb5, 0xa2, 0x6a, 0xb3, 0xf7, 0x7d, 0xb0, 0xa6, 0x69, 0xbc,
       0xfe, 0x77, 0xba, 0xae, 0x7e, 0xa7, 0xe0, 0x68, 0xa4, 0xb2, 0x7a, 0xa2,
       0xe7, 0x6e, 0xa1, 0xb7, 0x79, 0xaf, 0xea, 0x63, 0xae, 0xb8, 0x74, 0xad, 0xe8]

# First XOR operations
key1 = [0x65, 0x05, 0xdf, 0x36, 0x10, 0xdf]
for i in range(len(buf)):
    buf[i] ^= key1[i % 6]

# First reverse
buf = buf[::-1]

# Second XOR operations
key2 = [0x6f, 0x90, 0x86]
for i in range(len(buf)):
    buf[i] ^= key2[i % 3]

# Second reverse
buf = buf[::-1]

# XOR with 0x98
for i in range(len(buf)):
    buf[i] ^= 0x98

# Sort descending
buf.sort(reverse=True)

# Swap indexes 2 and 30
buf[2], buf[30] = buf[30], buf[2]

# Format output
echo_command = 'echo -ne "' + ''.join('\\x{:02x}'.format(x) for x in buf) + '" | ./babyrev-level-8-1'
print(echo_command)